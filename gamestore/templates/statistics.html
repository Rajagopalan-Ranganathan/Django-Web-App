{% extends "dashboard.html" %}
{% load staticfiles %}
{% load bootstrap3 %}
{% bootstrap_css %}
{% bootstrap_javascript jquery=1 %}

{% block title %}
    {{ block.super }}
{% endblock %}

{% block header %}
    {{ block.super }}
    <link rel="stylesheet" type="text/css" href="{% static 'css/portfolio-item.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/app.css' %}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/canvasjs/1.7.0/canvasjs.js"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/canvasjs/1.7.0/canvasjs.min.js"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/canvasjs/1.7.0/excanvas.js"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/canvasjs/1.7.0/jquery.canvasjs.js"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/canvasjs/1.7.0/jquery.canvasjs.min.js"
            crossorigin="anonymous"></script>
    <script type="text/javascript">
        window.onload = function () {
            var chart = new CanvasJS.Chart("chartContainer",
                {
                    title: {
                        text: "Game Purchases over the Year"
                    },
                    data: [
                        {
                            type: "column",
                            dataPoints: []
                        }
                    ]
                });
            chart.render();
            $.ajax({
                url: "/profile/statistics/", success: function (result) {
                    chart.options.data[0].dataPoints.push({y: result.jan, label: "January"});
                    chart.options.data[0].dataPoints.push({y: result.feb, label: "February"});
                    chart.options.data[0].dataPoints.push({y: result.mar, label: "March"});
                    chart.options.data[0].dataPoints.push({y: result.apr, label: "April"});
                    chart.options.data[0].dataPoints.push({y: result.may, label: "May"});
                    chart.options.data[0].dataPoints.push({y: result.jun, label: "June"});
                    chart.options.data[0].dataPoints.push({y: result.jul, label: "July"});
                    chart.options.data[0].dataPoints.push({y: result.aug, label: "August"});
                    chart.options.data[0].dataPoints.push({y: result.sep, label: "September"});
                    chart.options.data[0].dataPoints.push({y: result.oct, label: "October"});
                    chart.options.data[0].dataPoints.push({y: result.nov, label: "November"});
                    chart.options.data[0].dataPoints.push({y: result.dec, label: "December"});
                    chart.render();
                }
            });
        }

    </script>
    <style type="text/css">
        .modal-backdrop {
            z-index: 0;
        !important;
        }
    </style>

{% endblock %}

{% block content %}
    <div class="container">
        <div id="chartContainer" style="height: 300px; width: 100%;">
        </div>
    </div>

{% endblock %}